{"version":3,"sources":["api/unsplash.js","components/SearchBar.js","components/ImageCard.js","components/ImageList.js","hooks/useOnEndReached.js","components/app.js","index.js"],"names":["axios","create","baseURL","headers","Authorization","concat","process","SearchBar","_React$Component","_inherits","_super","_createSuper","_this","_classCallCheck","_len","arguments","length","args","Array","_key","call","apply","state","term","onFormSubmit","e","preventDefault","props","onSubmit","_createClass","key","value","_this2","React","createElement","className","this","type","onChange","setState","target","Component","ImageCard","setSpans","height","imageRef","current","clientHeight","spans","Math","ceil","createRef","addEventListener","_this$props$image","image","description","urls","style","gridRowEnd","ref","alt","src","regular","ImageList","_ref","images","map","id","useOnEndReached","onEndReached","disabled","_ref$wait","wait","reached","useRef","throttledOnEndReached","throttle","event","useEffect","cancel","_onEndReached","useCallback","_document$querySelect","_document$querySelect2","_document$querySelect3","_document$querySelect4","window","innerHeight","document","querySelector","scrollTop","scrollHeight","requestAnimationFrame","html","touchable","navigator","maxTouchPoints","removeEventListener","_regeneratorRuntime","t","r","Object","prototype","n","hasOwnProperty","o","defineProperty","i","Symbol","a","iterator","c","asyncIterator","u","toStringTag","define","enumerable","configurable","writable","wrap","Generator","Context","makeInvokeMethod","tryCatch","arg","h","f","s","y","GeneratorFunction","GeneratorFunctionPrototype","p","d","getPrototypeOf","v","values","g","defineIteratorMethods","forEach","_invoke","AsyncIterator","invoke","resolve","__await","then","callInvokeWithMethodAndArg","Error","done","method","delegate","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","return","TypeError","resultName","next","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","isNaN","displayName","isGeneratorFunction","constructor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","keys","reverse","pop","prev","charAt","slice","stop","rval","handle","complete","finish","catch","delegateYield","App","_useState","useState","_useState2","_slicedToArray","setImages","_useState3","_useState4","isLoading","setLoading","page","totalPage","cacheTerm","fetcher","_asyncToGenerator","_callee","res","_args","_context","undefined","unsplash","get","params","query","per_page","data","_x","onSearch","_ref2","_callee2","_context2","total_pages","_x2","_callee3","_context3","marginTop","ReactDOM","render"],"mappings":"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","file":"static/js/main.6bc6f856.chunk.js","sourcesContent":["import axios from \"axios\";\n\nexport default axios.create({\n  baseURL: \"https://api.unsplash.com\",\n  headers: {\n    // Authorization: 'Client-ID e3a560040278efa93220060acd19ca3faa693e19192a2b5bd2c6083c7d95c078'\n    Authorization: `Client-ID ${process.env.REACT_APP_UNSPLASH_KEY}`,\n  },\n});\n","import React from 'react';\n\nclass SearchBar extends React.Component {\n    state = { term:'' };\n\n    onFormSubmit = (e) => {\n      e.preventDefault();\n\n      this.props.onSubmit(this.state.term);\n    }\n\n    render() {\n        return (\n          <div className=\"ui segment\">\n            <form onSubmit={this.onFormSubmit} className=\"ui form\">\n              <div className=\"field\">\n                <label>Image Search</label>\n                <input\n                  type=\"text\"\n                  value={ this.state.term }\n                  onChange={e => this.setState({ term: e.target.value })}\n                />\n              </div>\n            </form>\n          </div>\n        );\n    }\n}\n\nexport default SearchBar;","import React from 'react';\n\nclass ImageCard extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = { spans: 0 };\n\n        this.imageRef = React.createRef();\n    }\n\n    componentDidMount() {\n        this.imageRef.current.addEventListener('load', this.setSpans);\n    }\n\n    setSpans = () => {\n        const height = this.imageRef.current.clientHeight;\n\n        const spans = Math.ceil( height / 10 );\n\n        this.setState({ spans });\n    }\n\n    render() {\n        const { description, urls } = this.props.image;\n\n        return (\n            <div style={{ gridRowEnd: `span ${this.state.spans}` }}>\n                <img ref={this.imageRef} alt={description} src={urls.regular} />\n            </div>\n        );\n    }\n}\n\nexport default ImageCard;","import './ImageList.css';\nimport React from 'react';\nimport ImageCard from './ImageCard';\n\nconst ImageList = ({images}) => {\n    return <div className=\"image-list\">{images.map((image) => {\n        return <ImageCard key={image.id} image={image}/>\n    })}</div>;\n};\n\nexport default ImageList;\n","import { useCallback, useEffect, useRef } from \"react\";\n\nimport { throttle } from \"lodash\";\n\nconst useOnEndReached = ({ onEndReached, disabled, wait = 16 }) => {\n  const reached = useRef(onEndReached);\n  const throttledOnEndReached = useRef(\n    throttle((event) => reached.current(event), wait),\n  );\n\n  useEffect(() => {\n    return () => {\n      throttledOnEndReached.current.cancel();\n    };\n  }, []);\n\n  useEffect(() => {\n    reached.current = onEndReached;\n  }, [onEndReached]);\n\n  const _onEndReached = useCallback((event) => {\n    const { innerHeight } = window;\n    const scrollTop = document.querySelector(\"html\")?.scrollTop ?? 0;\n    const scrollHeight = document.querySelector(\"html\")?.scrollHeight ?? 0;\n\n    const isReached = innerHeight + scrollTop === scrollHeight;\n    if (isReached) {\n      requestAnimationFrame(() => throttledOnEndReached.current(event));\n    }\n  }, []);\n\n  useEffect(() => {\n    if (disabled) return;\n    const html = document.querySelector(\"html\");\n    const touchable = window.navigator.maxTouchPoints > 0;\n\n    if (touchable) {\n      html.addEventListener(\"touchmove\", _onEndReached);\n    } else {\n      html.addEventListener(\"wheel\", _onEndReached);\n    }\n\n    return () => {\n      if (touchable) {\n        html.removeEventListener(\"touchmove\", _onEndReached);\n      } else {\n        html.removeEventListener(\"wheel\", _onEndReached);\n      }\n    };\n  }, [disabled]);\n};\n\nexport default useOnEndReached;\n","import React, { useCallback, useRef, useState } from \"react\";\nimport unsplash from \"../api/unsplash\";\nimport SearchBar from \"./SearchBar\";\nimport ImageList from \"./ImageList\";\nimport useOnEndReached from \"../hooks/useOnEndReached\";\n\nconst App = () => {\n  const [images, setImages] = useState([]);\n  const [isLoading, setLoading] = useState(false);\n\n  const page = useRef(1);\n  const totalPage = useRef(1);\n  const cacheTerm = useRef(\"\");\n\n  /**\n   * @description Fetches receive term as query and page(optional) as page number, return an array of image urls\n   * @param {string} term\n   * @param {number} page\n   * @returns {Promise<{\n   *     total: number;\n   *     total_pages: number;\n   *     results: {\n   *         id: string;\n   *         urls: {\n   *             raw: string;\n   *             full: string;\n   *             regular: string;\n   *             small: string;\n   *             thumb: string;\n   *         }\n   *     }[]\n   * }>}\n   */\n  const fetcher = useCallback(async (term, page = 1) => {\n    try {\n      setLoading(true);\n      const res = await unsplash.get(\"/search/photos\", {\n        params: {\n          query: term,\n          per_page: 10,\n          page,\n        },\n      });\n\n      return res.data;\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  const onSearch = useCallback(async (term) => {\n    const res = await fetcher(term);\n\n    page.current = 1;\n    totalPage.current = res.total_pages;\n    cacheTerm.current = term;\n    setImages((prev) => prev.concat(res));\n  }, []);\n\n  useOnEndReached({\n    onEndReached: async () => {\n      page.current += 1;\n      const res = await fetcher(cacheTerm.current, page.current);\n      setImages((prev) => prev.concat(res));\n    },\n    disabled:\n      images.length <= 0 || isLoading || page.current >= totalPage.current,\n    wait: 1000,\n  });\n\n  return (\n    <div className=\"ui container\" style={{ marginTop: \"10px\" }}>\n      <SearchBar onSubmit={onSearch} />\n      <ImageList images={images} />\n    </div>\n  );\n};\n\nexport default App;\n","import './global.css';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/app';\n\nReactDOM.render(<App/>, document.querySelector(\"#root\"));\n"],"sourceRoot":""}